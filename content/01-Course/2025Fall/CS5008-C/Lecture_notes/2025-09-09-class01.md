---
date: 2025-09-09
---
## Compiler Process
High Level code (C) -Compiler-> Assembly Code → Machine Code

x86 assembly for above
```asm
add:
    mov eax, edi
    add eax, esi
    ret
```

## Hello Word
```c
#include <stdio.h>

int main()
{
    printf("Hello, CS5008!\n");
    return 0;
}
```

`int main()`: Defines the **main function**
`printf`: formate
`return 0`:
## printf
```c
#include <stdio.h>

int main() {
    char letter = 'A';         // single character, stored in a char
    printf("The letter is %c\n", letter);
    return 0;
}
```

| Specifier   | Meaning                                         | Example                      | Output       |
| ----------- | ----------------------------------------------- | ---------------------------- | ------------ |
| `%d` / `%i` | Print an **integer** (decimal, signed)          | `printf("%d", 42);`          | `42`         |
| `%c`        | Print a **single character**                    | `printf("%c", 'A');`         | `A`          |
| `%s`        | Print a **string**                              | `printf("%s", "CS5008");`    | `CS5008`     |
| `%f`        | Print a **floating-point number**               | `printf("%f", 3.14);`        | `3.140000`   |
| `%.2f`      | Print a float with **2 decimal places**         | `printf("%.2f", 3.14);`      | `3.14`       |
| `%lf`       | Print a **double**                              | `printf("%lf", 3.14159);`    | `3.141590`   |
| `%u`        | Print an **unsigned integer**                   | `printf("%u", 3000000000U);` | `3000000000` |
| `%x`        | Print an **integer in hexadecimal (lowercase)** | `printf("%x", 255);`         | `ff`         |
| `%X`        | Print an **integer in hexadecimal (uppercase)** | `printf("%X", 255);`         | `FF`         |
| `%o`        | Print an **integer in octal**                   | `printf("%o", 8);`           | `10`         |
| `%p`        | Print a **pointer (memory address)**            | `printf("%p", ptr);`         | `0x7ffee...` |
| `%%`        | Print a literal percent sign `%`                | `printf("100%%");`           | `100%`       |

## Typical Sizes in C

| Type    | Size (bytes) | Size (bits) | Range (signed)                  |
| ------- | ------------ | ----------- | ------------------------------- |
| `char`  | 1 byte       | 8 bits      | -128 to 127                     |
| `short` | 2 bytes      | 16 bits     | -32,768 to 32,767               |
| `int`   | 4 bytes      | 32 bits     | -2,147,483,648 to 2,147,483,647 |
| `long`  | 8 bytes      | 64 bits     | very large                      |

### unsigned size

| Type             | Size (bytes) | Bits | Range                          |
| ---------------- | ------------ | ---- | ------------------------------ |
| `unsigned char`  | 1            | 8    | 0 → 255                        |
| `unsigned short` | 2            | 16   | 0 → 65,535                     |
| `unsigned int`   | 4            | 32   | 0 → 4,294,967,295              |
| `unsigned long`  | 8            | 64   | 0 → 18,446,744,073,709,551,615 |

### while in c
```c
#include <stdio.h>

int main() {
    char letter = 'A';
    printf("Character: %c, size: %zu byte(s)\n", letter, sizeof(letter));

    unsigned int ucharacter = 0;  // declare an unsigned int
    int index = 0;

    while (index < 10) 
    {
        ucharacter += 42;  // add 42 each time
        printf("uchar: %u\n", ucharacter);
        index++;
    }

    return 0;
}
```

### Float
float f32
double f64
```c
    float f32 = 3.2f;   // f suffix means float
    double f64 = 3.141592653589793;

    printf("Float f32: %f (size: %ld bytes)\n", f32, sizeof(f32));
    printf("Double f64: %lf (size: %ld bytes)\n", f64, sizeof(f64));
    printf("Double f64: %.2lf (size: %ld bytes)\n", f64, sizeof(f64));
```

### Array

Find array address
```c
    //Pointers
    int *pointer = &array[1];
    printf("pointer to array[1] is: %p\n", pointer);
    printf("pointer to array[1] is: %d\n", *pointer);
```
`&array[1]`: get address

### Pointer
```c
    //Pointers
    int *pointer = array; // pointer to Array[0] address
    printf("pointer to array[1] is: %p\n", pointer);
    // printf("pointer to array[1] is: %d\n", *pointer);

    pointer[0] = 7; 
    printf("Value to array[0] is: %d\n", pointer[0]);
    printf("Value to array[0] is: %d\n", array[0]);

    pointer += 3;
    printf("Value at array[3] is: %d\n", *pointer);
```

### Pointer str and address
```c
int main()
{
    char str[] = "This is a string\n";              // store in stack
    char *str_ptr = "This is also a string\n";      // store in address
    str[3] = 'S';
    //str_ptr = 's'; segmentation fault
    printf("%s", str);
    printf("%s", str_ptr);
    printf("str is located at %p\n", str);
    printf("str_ptr is located at %p\n", str_ptr);

    printf("%d %c\n", *str, *str); // dereference
    printf("%d %c\n", *str_ptr, *str_ptr);
    return 0;
```

dereference:
`printf("%d %c\n", *str, *str);`
### Size of String
```c
    printf("size of %ld\n", sizeof(str));
```

